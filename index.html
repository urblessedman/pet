<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>반려견 매칭 시스템 (성격+환경 종합분석)</title>
  
  <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/1076/1076928.png" />
  
  <link href="https://fonts.googleapis.com/css2?family=Jua&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700;900&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

  <script src="ads.js" defer></script>

  <style>
    /* CSS Reset & Variables */
    :root {
      --bg-color: #F8F9FA;
      --primary-color: #6C5CE7;
      --secondary-color: #00CEC9;
      --accent-color: #FF7675;
      --text-color: #2D3436;
      --white: #ffffff;
      --shadow: 0 10px 30px rgba(108, 92, 231, 0.15);
      --radius: 20px;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
    
    /* ★★★ V9.5 关键修改：移除 body 上的 flex 居中，防止抖动 ★★★ */
    body {
      font-family: 'Noto Sans KR', sans-serif;
      background-color: var(--bg-color);
      color: var(--text-color);
      margin: 0;
      padding: 0;
      width: 100%;
      min-height: 100vh;
      /* display: flex;  <-- 这行删除了 */
      /* justify-content: center; <-- 这行删除了 */
      overflow-y: scroll; /* 防止滚动条出现导致页面跳动 */
    }

    /* ★★★ V9.5 关键修改：使用 margin: 0 auto 强制物理居中 ★★★ */
    #app-container {
      width: 100%;
      max-width: 500px;
      margin: 0 auto; /* 这是最稳的居中方式 */
      background: var(--white);
      min-height: 100vh;
      box-shadow: var(--shadow);
      display: flex;
      flex-direction: column;
      position: relative;
    }

    /* Header */
    header { 
      padding: 18px;
      text-align: center;
      font-family: 'Jua', sans-serif;
      color: var(--text-color);
      font-size: 1.2rem;
      border-bottom: 1px solid #eee;
      background: rgba(255,255,255,0.95);
      position: sticky;
      top: 0;
      z-index: 10;
      backdrop-filter: blur(5px);
    }
    header i { color: var(--primary-color); margin-right: 5px; }

    main { flex: 1; padding: 20px; display: flex; flex-direction: column; align-items: center; text-align: center; }

    /* Animation */
    .screen { display: none; width: 100%; animation: fadeIn 0.5s cubic-bezier(0.22, 1, 0.36, 1); }
    .screen.active { display: flex; flex-direction: column; align-items: center; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

    /* Screen 1: Start */
    .hero-img { 
      content: url('https://images.unsplash.com/photo-1518717758536-85ae29035b6d?w=600');
      width: 100%; height: 260px; object-fit: cover; border-radius: var(--radius); 
      margin-bottom: 25px; box-shadow: 0 10px 20px rgba(0,0,0,0.1); 
    }
    
    h1 { font-family: 'Jua', sans-serif; font-size: 2.1rem; margin-bottom: 10px; line-height: 1.3; color: #111; }
    h1 span { color: var(--primary-color); position: relative; z-index: 1; }
    h1 span::after { content:''; position: absolute; bottom: 2px; left: 0; width: 100%; height: 10px; background: #dfe6e9; z-index: -1; opacity: 0.5; }
    
    .subtitle { color: #636E72; font-size: 1rem; margin-bottom: 30px; line-height: 1.6; }
    
    .tags-cloud { display: flex; flex-wrap: wrap; gap: 8px; justify-content: center; margin-bottom: 30px; }
    .tag-bubble { background: #f1f2f6; padding: 6px 12px; border-radius: 15px; font-size: 0.85rem; color: #555; font-weight: bold; }
    .tag-bubble.highlight { background: #EBE5FC; color: var(--primary-color); }

    .btn-primary {
      background: linear-gradient(135deg, var(--primary-color), #a29bfe);
      color: white; border: none; padding: 18px 0; width: 100%;
      font-size: 1.2rem; border-radius: var(--radius); font-weight: 700; font-family: 'Jua';
      cursor: pointer; box-shadow: 0 8px 20px rgba(108, 92, 231, 0.3);
      transition: transform 0.1s; position: relative; overflow: hidden;
    }
    .btn-primary:active { transform: scale(0.98); }

    /* Screen 2: Question */
    .progress-wrapper { width: 100%; margin-bottom: 30px; }
    .progress-bar { width: 100%; height: 8px; background: #E5E7EB; border-radius: 10px; overflow: hidden; }
    .progress-fill { height: 100%; background: var(--primary-color); width: 0%; transition: width 0.4s ease; border-radius: 10px; }
    .step-text { text-align: right; font-size: 0.8rem; color: #aaa; margin-top: 5px; font-weight: bold; }

    .question-category { color: var(--secondary-color); font-weight: 800; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 10px; }
    .question-box h2 { font-family: 'Jua', sans-serif; font-size: 1.6rem; margin-bottom: 30px; line-height: 1.4; color: #2D3436; word-break: keep-all; }
    
    .option-btn {
      width: 100%; padding: 22px; margin-bottom: 15px;
      border: 2px solid #F0F2F5; border-radius: 18px;
      background: white; font-size: 1rem; font-weight: 500; color: #444;
      cursor: pointer; transition: all 0.2s; text-align: left; display: flex; align-items: center; justify-content: space-between;
    }
    .option-btn:hover { border-color: var(--primary-color); background-color: #F8F7FF; color: var(--primary-color); transform: translateY(-2px); }
    .option-btn i { font-size: 1.2rem; opacity: 0.5; }
    .option-btn:hover i { opacity: 1; color: var(--primary-color); }

    /* Screen 3: Loading */
    .loading-container { height: 60vh; display: flex; flex-direction: column; justify-content: center; align-items: center; }
    .dna-spinner { font-size: 3rem; color: var(--primary-color); animation: spin 2s infinite linear; margin-bottom: 20px; }
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    .loading-text { font-family: 'Jua'; font-size: 1.5rem; margin-bottom: 10px; }
    .loading-sub { color: #888; font-size: 0.9rem; }
    .ad-loading { width: 300px; height: 250px; background: #f1f2f6; border-radius: 15px; margin-top: 30px; display: flex; align-items: center; justify-content: center; color: #bdc3c7; font-weight: bold; border: 2px dashed #dcdde1; }

    /* Screen 4: Result */
    .result-card { width: 100%; background: #fff; border-radius: 0; padding-bottom: 40px; }
    
    .score-badge { 
      background: #2D3436; color: white; padding: 6px 15px; border-radius: 20px; 
      font-weight: bold; font-size: 0.9rem; display: inline-flex; align-items: center; margin-bottom: 15px; 
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }
    .score-badge i { color: #FF7675; margin-right: 5px; }

    .result-name { font-family: 'Jua', sans-serif; font-size: 2.4rem; color: var(--primary-color); margin-bottom: 15px; }
    
    .result-img-wrapper { position: relative; width: 220px; height: 220px; margin: 0 auto 25px; }
    .result-img { 
      width: 100%; height: 100%; 
      border-radius: 50%; 
      object-fit: cover; 
      border: 8px solid white; 
      box-shadow: 0 15px 35px rgba(0,0,0,0.15); 
      background-color: #fff;
    }
    .match-label { position: absolute; bottom: 10px; right: 0; background: var(--secondary-color); color: white; padding: 5px 10px; border-radius: 10px; font-size: 0.8rem; font-weight: bold; }

    /* Radar Chart */
    .radar-box { background: #F8F9FA; border-radius: 15px; padding: 20px; margin: 0 20px 25px; }
    .radar-row { display: flex; align-items: center; margin-bottom: 10px; }
    .radar-label { width: 70px; text-align: left; font-size: 0.85rem; font-weight: bold; color: #555; }
    .radar-bar-bg { flex: 1; height: 8px; background: #e0e0e0; border-radius: 4px; overflow: hidden; }
    .radar-bar-fill { height: 100%; border-radius: 4px; width: 0%; transition: width 1s ease; }
    
    .bar-1 { background: var(--primary-color); }
    .bar-2 { background: var(--secondary-color); }
    .bar-3 { background: var(--accent-color); }

    .desc-box { text-align: left; line-height: 1.7; font-size: 0.95rem; color: #444; margin: 0 20px 30px; padding: 20px; background: #fff; border: 2px solid #f1f2f6; border-radius: 15px; }
    .desc-title { font-weight: bold; color: var(--primary-color); margin-bottom: 5px; display: block; }

    /* Insurance Box */
    .insurance-alert { background: #FFF5F5; border: 1px solid #FEB2B2; border-radius: var(--radius); padding: 20px; margin: 0 20px 25px; text-align: left; position: relative; overflow: hidden; }
    .insurance-alert::before { content:''; position: absolute; top:0; left:0; width: 5px; height: 100%; background: #FC8181; }
    .alert-header { display: flex; align-items: center; margin-bottom: 10px; color: #C53030; font-weight: 800; font-size: 1rem; }
    .alert-body { font-size: 0.9rem; color: #4A5568; margin-bottom: 15px; }
    .ins-btn { display: block; width: 100%; background: #C53030; color: white; text-align: center; padding: 12px; border-radius: 10px; font-weight: bold; text-decoration: none; box-shadow: 0 4px 10px rgba(197, 48, 48, 0.3); transition: transform 0.1s; }
    .ins-btn:active { transform: scale(0.98); }

    .btn-share { background: #FEE500; color: #3c1e1e; border: none; padding: 15px; width: 100%; border-radius: 12px; font-weight: bold; cursor: pointer; font-size: 1rem; }
    .btn-retry { background: white; border: 2px solid #eee; padding: 15px; width: 100%; border-radius: 12px; font-weight: bold; color: #666; cursor: pointer; margin-top: 10px;}

    .ad-area { width: 100%; min-height: 100px; background: #f8f9fa; margin-top: 20px; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: #ccc; font-size: 0.8rem; }
  </style>
</head>
<body>
  
  <div id="app-container">
    <header><i class="fas fa-paw"></i> 댕댕이 연구소</header>
    
    <main>
      <div id="screen-start" class="screen active">
        <img class="hero-img" alt="main"/>
        
        <div class="tags-cloud">
          <span class="tag-bubble highlight">#성격매칭</span>
          <span class="tag-bubble">#거주환경</span>
          <span class="tag-bubble">#활동량</span>
          <span class="tag-bubble highlight">#양육난이도</span>
        </div>

        <h1>나의 운명적<br/><span>반려견 찾기</span></h1>
        <p class="subtitle">나의 <strong>성격(MBTI)</strong>과 <strong>현실 조건</strong>을<br/>모두 고려한 AI 정밀 분석 시스템</p>

        <button class="btn-primary" onclick="startTest()">매칭 시작하기</button>
        
        <div id="ad-container-main" class="ad-area">AD LOADING...</div>
      </div>

      <div id="screen-question" class="screen">
        <div class="progress-wrapper">
          <div class="progress-bar"><div class="progress-fill" id="progress"></div></div>
          <div class="step-text">Step <span id="q-idx">1</span> / 7</div>
        </div>
        
        <div class="question-category" id="q-cat">CATEGORY</div>
        
        <div class="question-box">
          <h2 id="q-text">질문 텍스트...</h2>
          <button class="option-btn" onclick="nextQuestion(0)">
            <span id="ans-a">옵션 A</span> <i class="far fa-check-circle"></i>
          </button>
          <button class="option-btn" onclick="nextQuestion(1)">
            <span id="ans-b">옵션 B</span> <i class="far fa-check-circle"></i>
          </button>
        </div>
      </div>

      <div id="screen-loading" class="screen">
        <div class="loading-container">
          <i class="fas fa-dna dna-spinner"></i>
          <h2 class="loading-text">데이터 분석 중...</h2>
          <p class="loading-sub">성격 유형과 환경 적합도를 계산합니다.</p>
          
          <div id="ad-container-loading" class="ad-loading">PREMIUM AD</div>
        </div>
      </div>

      <div id="screen-result" class="screen">
        <div class="score-badge"><i class="fas fa-heart"></i> 매칭률 <span id="match-percent">97</span>%</div>
        <h1 class="result-name" id="res-name">견종 이름</h1>
        
        <div class="result-img-wrapper">
          <img src="" id="res-img" class="result-img" alt="result"/>
          <div class="match-label" id="res-tag">#천생연분</div>
        </div>

        <div class="radar-box">
          <div class="radar-row">
            <span class="radar-label">성격 케미</span>
            <div class="radar-bar-bg"><div class="radar-bar-fill bar-1" id="score-chem"></div></div>
          </div>
          <div class="radar-row">
            <span class="radar-label">환경 적합</span>
            <div class="radar-bar-bg"><div class="radar-bar-fill bar-2" id="score-env"></div></div>
          </div>
          <div class="radar-row">
            <span class="radar-label">활동 에너지</span>
            <div class="radar-bar-bg"><div class="radar-bar-fill bar-3" id="score-energy"></div></div>
          </div>
        </div>

        <div class="desc-box">
          <span class="desc-title">📝 분석 결과:</span>
          <span id="res-desc">설명 내용...</span>
        </div>

        <div class="insurance-alert">
          <div class="alert-header"><i class="fas fa-file-medical-alt"></i> 건강 관리 주의사항</div>
          <div class="alert-body">
            <span id="res-health">이 견종은 슬개골 탈구 위험이 높습니다.</span><br/>
            미리 대비하지 않으면 병원비 부담이 클 수 있습니다.
          </div>
          <a href="https://smartkrinsurance.com" target="_blank" class="ins-btn">
            <span id="ins-btn-text">예상 보험료 10초 확인 ></span>
          </a>
        </div>

        <button class="btn-share" onclick="shareFinalResult()"><i class="fas fa-share-alt"></i> 결과 공유하기</button>
        <button class="btn-retry" onclick="location.reload()">🔄 다시 테스트하기</button>

        <div id="ad-container-result" class="ad-area">AD LOADING...</div>
      </div>
    </main>
  </div>

  <script>
    // 1. 데이터베이스 (이미지 링크: V9.4에서 사용한 귀여운 만화 이미지 유지)
    const dogs = [
      { name: "핵인싸 골든 리트리버", img: "https://i.imgur.com/gK8eP3R.png", 
        traits: [10, 8, 10], tag: "#천사견",
        desc: "사람을 너무 좋아하는 당신과 긍정왕 리트리버는 환상의 짝꿍입니다! 다만 털 빠짐과 활동량이 많아 넓은 공간과 부지런함이 필요해요.",
        health: "고관절 이형성증 및 피부질환 주의" },
      { name: "똑쟁이 토이 푸들", img: "https://i.imgur.com/rN5hP1A.png", 
        traits: [9, 3, 5], tag: "#지능1위",
        desc: "섬세하고 똑똑한 당신에게 딱! 털 빠짐이 적어 아파트 생활에 최적화되어 있습니다. 눈치가 빨라 교감하는 재미가 있을 거예요.",
        health: "슬개골 탈구 및 외이염 주의" },
      { name: "시크한 시바견", img: "https://i.imgur.com/1G2jK0L.png", 
        traits: [2, 5, 6], tag: "#밀당고수",
        desc: "자기만의 시간이 필요한 당신. 독립적인 성향의 시바견과는 서로의 영역을 존중하며 쿨한 동거가 가능합니다. 단, 털은 많이 빠져요!",
        health: "아토피 피부염 및 알레르기 주의" },
      { name: "깨발랄 비글", img: "https://i.imgur.com/7b7fQ8g.png", 
        traits: [9, 6, 10], tag: "#에너지왕",
        desc: "지루한 건 딱 질색인 당신! 비글의 넘치는 에너지를 감당할 수 있는 유일한 분이시군요. 매일매일이 시트콤이 될 거예요.",
        health: "비만 및 귀 염증(외이염) 주의" },
      { name: "솜사탕 비숑", img: "https://i.imgur.com/2K1zT8P.png", 
        traits: [9, 4, 7], tag: "#힐링견",
        desc: "다정다감한 성격의 당신. 비숑의 폭풍 애교에 매일 녹아내릴 거예요. 털 관리에 정성을 쏟을 준비만 하시면 됩니다!",
        health: "백내장 및 슬개골 탈구 주의" },
      { name: "작은 거인 치와와", img: "https://i.imgur.com/X4y2hW5.png", 
        traits: [6, 1, 3], tag: "#내사랑",
        desc: "내 사람 챙기기를 좋아하는 당신. 치와와는 질투가 많아 당신만을 바라볼 거예요. 좁은 실내에서도 키우기 부담 없습니다.",
        health: "치아 관리 및 두개골 질환 주의" },
      { name: "엉뚱매력 웰시코기", img: "https://i.imgur.com/j1xG7tP.png", 
        traits: [8, 6, 9], tag: "#식탐왕",
        desc: "먹는 것과 노는 것을 좋아하는 당신! 코기와 함께 맛집 투어도 하고 산책도 하며 즐거운 일상을 보낼 수 있어요. 털은 좀 빠집니다!",
        health: "허리 디스크(IVDD) 및 비만 주의" },
      { name: "우아한 몰티즈", img: "https://i.imgur.com/b9J3E6t.png", 
        traits: [8, 2, 4], tag: "#국민반려견",
        desc: "집에서 쉬는 걸 좋아하는 당신. 작고 하얀 몰티즈는 최고의 룸메이트입니다. 참지 않는 성격이니 오냐오냐는 금물!",
        health: "유루증(눈물자국) 및 심장질환 주의" },
      { name: "카리스마 허스키", img: "https://i.imgur.com/M6L7cRk.png", 
        traits: [5, 9, 10], tag: "#엉뚱함",
        desc: "자유로운 영혼의 소유자! 허스키의 엉뚱함과 대화하는 듯한 하울링이 당신의 삶을 지루하지 않게 해줄 거예요.",
        health: "안구 질환 및 고관절 주의" },
      { name: "천재견 보더콜리", img: "https://i.imgur.com/l4Z2e1G.png", 
        traits: [7, 8, 10], tag: "#워커홀릭",
        desc: "성취욕이 강하고 활동적인 당신. 보더콜리와 함께 프리스비나 어질리티를 도전해보세요. 최고의 파트너가 될 겁니다.",
        health: "관절 관리 및 결막염 주의" },
      { name: "느긋한 시츄", img: "https://i.imgur.com/o5X1z7U.png", 
        traits: [5, 2, 2], tag: "#평화주의자",
        desc: "여유롭고 느긋한 성격의 당신. 짖지 않고 얌전한 시츄와 함께 조용하고 평화로운 힐링 라이프를 즐겨보세요.",
        health: "안구 건조증 및 호흡기 질환 주의" },
      { name: "개성파 프렌치불독", img: "https://i.imgur.com/sY9X2bY.png", 
        traits: [6, 4, 4], tag: "#볼매",
        desc: "유니크한 매력을 알아보는 당신. 무뚝뚝해 보이지만 알고 보면 정이 많은 불독과 깊은 우정을 쌓을 수 있어요.",
        health: "단두종 호흡기 증후군 및 피부병 주의" }
    ];

    const questions = [
      { cat: "🏠 Reality", q: "현재 거주하고 계신 환경은?", a: "원룸/오피스텔/아파트 (실내)", b: "마당이 있는 주택/넓은 실내", impact: [0, -2, 0] },
      { cat: "❤️ Personality", q: "주말 아침, 이상적인 휴식은?", a: "침대와 한 몸이 되어 넷플릭스", b: "일단 밖으로 나가서 에너지 발산!", impact: [0, 0, 3] },
      { cat: "🧹 Reality", q: "검은 옷에 하얀 털이 묻는다면?", a: "절대 싫어! 돌돌이 필수.", b: "강아지 털은 패션이지! 괜찮다。", impact: [0, -1, 0] },
      { cat: "❤️ Personality", q: "강아지와의 관계, 당신의 로망은?", a: "나만 바라보는 껌딱지 (애교)", b: "서로 사생활 존중하는 룸메이트 (독립)", impact: [-3, 0, 0] },
      { cat: "⏰ Reality", q: "하루 산책, 얼마나 가능하신가요?", a: "30분 내외 (바쁨)", b: "1시간 이상 (여유로움)", impact: [0, 0, 2] },
      { cat: "❤️ Personality", q: "낯선 사람이 말을 걸어온다면?", a: "부담스럽다.. 자리를 피한다.", b: "오! 반가워요! 금방 친해진다.", impact: [2, 0, 0] },
      { cat: "💰 Reality", q: "대형견은 병원비/식비가 3배입니다.", a: "현실적으로 부담된다.", b: "상관없다. 든든한 게 좋다。", impact: [0, -2, 0] }
    ];

    let qIdx = 0;
    let userScore = [5, 5, 3]; 
    let currentDog = null;

    function startTest() {
      document.querySelector('#screen-start').classList.remove('active');
      document.querySelector('#screen-question').classList.add('active');
      loadQuestion();
    }

    function loadQuestion() {
      const q = questions[qIdx];
      document.getElementById('q-idx').innerText = qIdx + 1;
      document.getElementById('q-cat').innerText = q.cat;
      document.getElementById('q-text').innerText = q.q;
      document.getElementById('ans-a').innerText = q.a;
      document.getElementById('ans-b').innerText = q.b;
      
      const percent = ((qIdx) / questions.length) * 100;
      document.getElementById('progress').style.width = percent + "%";
    }

    function nextQuestion(choice) {
      const impact = questions[qIdx].impact;
      if (choice === 0) {
        userScore[0] -= impact[0]; userScore[1] += impact[1]; userScore[2] -= impact[2];
      } else {
        userScore[0] += impact[0]; userScore[1] -= impact[1]; userScore[2] += impact[2];
      }
      qIdx++;
      if (qIdx < questions.length) loadQuestion();
      else showLoading();
    }

    function showLoading() {
      document.querySelector('#screen-question').classList.remove('active');
      document.querySelector('#screen-loading').classList.add('active');
      setTimeout(calculateResult, 2500);
    }

    function calculateResult() {
      let bestDog = dogs[0];
      let minDiff = 999;

      dogs.forEach(dog => {
        let diff = Math.abs(userScore[0] - dog.traits[0]) * 1.0 +
                   Math.abs(userScore[1] - dog.traits[1]) * 1.5 + 
                   Math.abs(userScore[2] - dog.traits[2]) * 1.2;
        if (diff < minDiff) { minDiff = diff; bestDog = dog; }
      });
      currentDog = bestDog;

      let matchScore = Math.floor((1 - (minDiff / 20)) * 100);
      if (matchScore > 98) matchScore = 98;
      if (matchScore < 70) matchScore = 70;

      // 结果渲染
      document.getElementById('res-name').innerText = bestDog.name;
      document.getElementById('res-img').src = bestDog.img; 
      document.getElementById('res-desc').innerText = bestDog.desc;
      document.getElementById('res-tag').innerText = bestDog.tag;
      document.getElementById('match-percent').innerText = matchScore; 
      
      document.getElementById('res-health').innerText = bestDog.health;
      document.getElementById('ins-btn-text').innerText = bestDog.name.split(' ').pop() + " 보험료 10초 확인 >";

      // 图表同步渲染
      window.requestAnimationFrame(() => {
        document.getElementById('score-chem').style.width = (bestDog.traits[0] * 10) + "%";
        document.getElementById('score-env').style.width = (bestDog.traits[1] * 10) + "%";
        document.getElementById('score-energy').style.width = (bestDog.traits[2] * 10) + "%";
      });

      document.querySelector('#screen-loading').classList.remove('active');
      document.querySelector('#screen-result').classList.add('active');
      window.scrollTo(0, 0);
    }

    function shareFinalResult() {
        if (!currentDog) {
            alert("테스트 결과를 먼저 확인해주세요!");
            return;
        }

        const shareData = {
            title: `나의 운명적 반려견은 [${currentDog.name}]!`,
            text: `내 성격과 현실 조건에 딱 맞는 ${currentDog.name}의 분석 결과는? 지금 확인해보세요!`,
            url: window.location.href,
        };

        if (navigator.share) {
            navigator.share(shareData).then(() => {
                console.log('Shared successfully');
            }).catch(console.error);
        } else {
            navigator.clipboard.writeText(shareData.title + '\n' + shareData.url).then(() => {
                alert("🔗 결과 링크와 문구가 복사되었습니다! 친구에게 붙여넣어 공유하세요.");
            }).catch(() => {
                alert("공유 기능이 지원되지 않습니다. 주소를 직접 복사해주세요.");
            });
        }
    }
  </script>
</body>
</html>
